# Nolan Daly Project 1: Bad Air

## Project Overview

This application serves to demonstrate changes in the United States's air quality over the past several decades. To accomplish this, several aspects of air quality (major pollutants, safety rating) have been catalogued for a variety of U.S. regions (typically counties) annually from 1980 to 2021, with the ability to directly compare any two of such regions in the United States. The goal of this is to provide a region-by-region analysis of air quality changes and enable the comparison of regions against one another on a variety of air quality properties.

## Data

The data used for this project was collected by the EPA and obtained from [their official website](https://aqs.epa.gov/aqsweb/airdata/download_files.html#Annual). After downloading the data on a year-by-year basis, the files were combined into one complete copy, which is presently utilized in the application. It contains a combination of identifying information (years, states/main regions, subregions/counties) and the corresponding region/timeframe's air quality information (safety ratings, AQI measurements, and major pollutants recorded per day). The data is partially incomplete, with some years and major areas of data being missing for certain regions, though a separate entry does track how many days were not recorded for AQI for each region/timeframe combination.

## Visualization

The data for each region is displayed across a total of ten figures in this application, with five distinct figures being used for each of the two regions. These figures are split in half vertically, allowing for a relatively easy comparison of different regions. At the top of each half, there are selection boxes that allow the user to pick a main/sub region for each of the two sections. The topmost figure for each region is used to display AQI-related measurements over the 1980-2021 period, such as max AQI or median AQI. These different measurements can be swapped using a dropdown menu in the top left of the display. Below these AQI measurements, a second figure is used to display changes in common daily pollutants across the timeframe, visualized in a stacked bar chart. Each pollutant is represented by a separate color, and specific information for each can be obtained in a tooltip seen by hovering over certain blocks in each year's bar. Below this, an additional figure is used to track which days in each year had no recorded AQI, similarly to the first figure. Finally, there are two pie charts at the bottom of each region's display; one is used to show the proportion of each pollutant in that specific region for a given year, and the other is used to display the proportion of days in a year meeting certain air safety levels. The selected year for these pie charts defaults to 2021, but can be changed using a year slider at the top of the application. This slider will automatically update these figures when a new year is selected.

## Discoveries

While many of these findings are not particularly surprising, as most areas indicated gradually worsening air quality over the 1980-2021 time period (with a few exceptions, such as Hawaii, which showed minimal decrease in air quality over time relative to other regions), some aspects of this data were not things I previously considered. For example, common air pollutants would differ greatly from region to region; while geographically closer regions tended to have similar data, regions further away could have drastically different results; comparisons of east coast and west coast counties showed that, while air quality was decreasing for both, the specific proportion of pollutants different substantially. In addition to this, many regions had consistent data issues over the entire timeframe. One instance of this is in Alabama, where many of its counties were missing massive areas of data over the span of several years.

## Process

The code for this project is segmented into three primary areas: the HTML index file, which acts as a basic framework for the rest of the project; the CSS stylesheet, which includes several specific components to make this project display properly; and the javascript files, which handle all of the data processing, events, and visualizations. While the HTML and CSS are fairly straightforward, the javascript portion of this project required more thought to complete. First, it is important to note that the D3 library was instrumental in getting this project to function; creating proper svg displays would have been much more difficult without its help. Aside from that, however, I exclusively used base javascript functionality my code, opting to segment my project into several .js files. The "main" file handles things such as data processing, preliminary object creation, and input events from the user (updating dropdown choices, the year slider, etc.). The majority of the code exists in the class files, which are used to generate figures of a variety of different types. Using a structure based on our in-class tutorials, each class has a constructor for initialization, a setup method used to establish the figure display, and a visual rendering method used to draw the data onto the specified SVG in the correct format. While much of this code is similar between the classes, enough was distinct to warrant the creation of several individual files. The code for this project can be found in this repository, at [this link](https://github.com/NolanDaly/VisualInterfacesData/blob/main/Project1/). The project can be run by downloading these files and running a local test server.
